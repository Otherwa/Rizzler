<!DOCTYPE html>
<html>

<head>
    <title>Rizzler</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="/styles/bulma.min.css">
    <link rel='stylesheet' href='/styles/main.css' />
    <link rel="icon" href="/images/favicon_io/favicon-16x16.png" type="image/gif" sizes="16x16">
</head>

<body>
    <!-- navbar -->
    <div>
        <%- include('./partials/nav.ejs') %>
    </div>
    <!-- navbar -->
    <!-- content -->
    <div class="layout">
        <header class="header">
            <a href="https://swup.js.org" target="_blank" class="logo">Swup Demo</a>
        </header>
        <main id="swup" class="transition-main">
            <div id="loading" style="display: block;font-family:monospace">Loading...</div>
            <div id="response" style="min-width: auto;display:none">
                <div style="display:flex;gap:1.2rem;justify-content: space-between;min-width:20rem">
                    <div>
                        <h1>
                            <span>Search Results</span>
                            <span id="q" class="subdued"><%- title %></span>
                        </h1>
                    </div>
                    <div>
                        <p class="buttons">
                            <a href="/" class="button" data-swup-transition="list">×  Close</a>
                        </p>
                    </div>
                </div>
                <div style="min-width: auto;padding:1.1rem">
                    <span style="word-wrap: break-word;font-family:monospace">
                        <%- prompt %>
                    </span>
                </div>
            </div>
        </main>
    </div>
    <!-- content -->
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"
        integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/javascripts/index.js" type="text/javascript"></script>
    <script src="https://unpkg.com/@swup/forms-plugin@3"></script>
    <script src="https://unpkg.com/@swup/body-class-plugin@3"></script>
    <script src="https://unpkg.com/swup@4"></script>
    <script>
        const swup = new Swup({
            containers: ["#swup"],
            plugins: [new SwupFormsPlugin(), new SwupBodyClassPlugin()]
        });

        swup.hooks.on('page:view', (visit) => {

            console.log("visit");
            // Simulate API response (you can replace this with actual logic)
            setTimeout(function () {
                $('#response').show('slow');
                $('#loading').hide('slow')
            }, 2000); // Simulating a 3-second delay
        });
    </script>
</body>

</html>